<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>TYPING SPEED TEST</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <style>
     
    </style>
  </head>
  <body>
    <div class="container">
       
        <div class="row d-flex justify-content-center align-items-center" style="height: 100vh;">
          <div class="card shadow" style="width: 40rem;">
            <div class="card-body text-center">
              <h1 class="py-3">Typing Speed Test</h1>
              <p class="" id="quote">Click 'statrt test' to begin </p>
              <input type="text" class="form-control" id="inputBox" placeholder="start typing test..." disabled>
              <button class="btn btn-secondary text-uppercase mt-2" id="typingBtn">Start Test</button>

              <div class="mt-3" id="resultDiv"> </div>
              
          </div>
          </div>
        </div>

      
    
    </div>

    <script src="index.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>

    <script>
        
        document.addEventListener('DOMContentLoaded', ()=>{

          const quotes = [
            "A journey of a thousand miles begins with a single step.",
            "To be or not to be, that is the question.",
            "All that glitters is not gold.",
            "The quick brown fox jumps over the lazy dog.",
            "The only thing we have to fear is fear itself.",
            "Little learning is a dangerous things.",
          ];

          const quoteDisplay = document.getElementById('quote');
          const inputBox = document.getElementById('inputBox');
          const typingBtn = document.getElementById('typingBtn');
          const resultDiv = document.getElementById('resultDiv');

          let currentQuote;
          let startTime;

          typingBtn.addEventListener('click', startTest );
          inputBox.addEventListener('input', checkInput );

          function startTest(){
            // console.log(Math.floor(Math.random() * quotes.length));
            const randomIndex = Math.floor(Math.random() * quotes.length);
            currentQuote = quotes[randomIndex];

            quoteDisplay.textContent = currentQuote;

            inputBox.removeAttribute('disabled');
            inputBox.focus();
            
            startTime = new Date().getTime();
            // console.log(startTime);
            inputBox.value = '';
            resultDiv.textContent = '';

          } 

          function checkInput(){
            // console.log(inputBox.value);
            const typedText = inputBox.value;
            if(typedText === currentQuote){
              const endTime = new Date().getTime();
              // console.log((endTime - startTime)/1000);
              const timeTaken = (endTime - startTime)/1000;
              // console.log((typedText.split(' ').length) / timeTaken * 60);
              const wordsPerMin = (typedText.split(' ').length) / timeTaken * 60;
              inputBox.setAttribute('disabled', true);
              resultDiv.textContent = `You typed at ${parseInt(wordsPerMin)} words per mintue.`;

            }
          }


        });
    </script>

    
  </body>
</html>
